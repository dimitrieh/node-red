@use "mixins";

/**
 * Copyright JS Foundation and other contributors, http://js.foundation
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 **/

/* Floating Windows Mode Styles */

.red-ui-floating-windows-mode {
    #red-ui-palette, #red-ui-sidebar, #red-ui-sidebar-separator {
        display: none !important;
    }

    #red-ui-workspace {
        left: 0 !important;
        right: 0 !important;
        transition: none;
    }

    #red-ui-main-container {
        &.red-ui-palette-closed, &.red-ui-sidebar-closed {
            #red-ui-workspace {
                left: 0 !important;
                right: 0 !important;
            }
        }
    }
}

/* Floating Window Base Styles */
.red-ui-floating-window {
    font-family: "Helvetica Neue", Arial, Helvetica, sans-serif;
    font-size: 13px;
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    
    .red-ui-floating-window-header {
        background: var(--red-ui-header-background);
        border-bottom: 1px solid var(--red-ui-secondary-border-color);
        
        .red-ui-floating-window-controls button {
            &:hover {
                background: rgba(255,255,255,0.2) !important;
                border-radius: 2px;
            }
            
            &:active {
                background: rgba(255,255,255,0.3) !important;
            }
        }
    }
    
    .red-ui-floating-window-content {
        background: var(--red-ui-primary-background);
        border: 1px solid var(--red-ui-secondary-border-color);
        border-top: none;
        
        /* Ensure palette and sidebar content renders properly */
        .red-ui-palette-search input {
            background: var(--red-ui-form-input-background);
            border: 1px solid var(--red-ui-form-input-border-color);
            color: var(--red-ui-form-text-color);
            
            &:focus {
                border-color: var(--red-ui-form-input-focus-color);
            }
        }
        
        .red-ui-component-footer {
            background: var(--red-ui-secondary-background);
            border-top: 1px solid var(--red-ui-secondary-border-color);
        }
    }
    
    .red-ui-floating-window-resize-handle {
        &:hover {
            background: linear-gradient(-45deg, transparent 0%, transparent 40%, #999 40%, #999 50%, transparent 50%, transparent 90%, #999 90%) !important;
        }
    }
}

.red-ui-floating-window-active {
    box-shadow: 0 4px 20px rgba(0,0,0,0.4) !important;
    opacity: 1 !important;
}

/* Tab styles for floating sidebar */
.red-ui-floating-window #red-ui-sidebar-tabs {
    .red-ui-tab {
        background: var(--red-ui-tab-background-inactive);
        border: 1px solid var(--red-ui-secondary-border-color);
        border-bottom: none;
        margin-right: 1px;
        
        &.active {
            background: var(--red-ui-tab-background-active);
            border-color: var(--red-ui-secondary-border-color);
            border-bottom: 1px solid var(--red-ui-tab-background-active);
            margin-bottom: -1px;
        }
        
        a {
            color: var(--red-ui-primary-text-color);
            padding: 6px 12px;
            display: block;
            text-decoration: none;
            
            &:hover {
                background: var(--red-ui-tab-background-hover);
            }
        }
    }
}